<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/index.css">
  <link href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <title>一卷图库使用文档</title>
</head>

<body>
  <nav>
    <h2><a><i class="fa-solid fa-file-lines"></i> 一卷图库手册</a></h2>
    <a href=".."><i class="fa-solid fa-house-chimney"></i></a>
  </nav>
  <footer>
    <p>这是一卷图库的开发者文档/教程。一卷图库内的图片均采用
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>
      许可进行授权。
    </p>
  </footer>

  <script src="./load.js"></script>

  <div class="bicol">
    <div class="card">
      <h4><i class="fa-solid fa-images"></i> 图库</h4>
      <pre id="MGInfo"></pre>
      <script>document.getElementById("MGInfo").textContent = `name: ${MG.name}\ndescription: ${MG.description}\nlicense: ${MG.license}`</script>
      <div class="list">
        <a><i class="fa-brands fa-qq"></i>投稿QQ: 2399052066 (纸鹿)</a>
        <a href="https://imgtg.com/album/54wL" target="_blank">在线预览(由Imgtg托管)</a>
      </div>
    </div>
    <div class="card">
      <h4><i class="fa-solid fa-file-import"></i> 引入</h4>
      <p>在HTML中插入如下代码,随后便可以执行图库相关功能。</p>
      <pre>&lt;script&gt;function MGLoad(){ //在此放入你的图库函数 }&lt;/script&gt;<br>&lt;script src="https://thisis.host/monoroll/load.js"&gt;&lt;/script&gt;</pre>
      <p>将需要执行的函数声明在<code>MGLoad()</code>中。</p>
    </div>

    <div class="card">
      <h4><i class="fa-solid fa-anchor"></i> 绑定要应用背景的元素</h4>
      <pre>MG.bgBind(<em>ele</em>)</pre>
      <p>
        <code><em>ele</em></code>为DOM元素，如<code>document.documentElement</code>、<code>document.getElementById("main")</code>等。
      </p>
      <p>绑定要应用背景的元素时，会自动给该元素设置<code>背景居中</code>、<code>背景自适应缩放</code>属性，如果不需要，请传入一个非真的值作为第二个参数，例如：</p>
      <pre>MG.bgBind(<em>ele</em>, false)</pre>
    </div>

    <div class="card">
      <h4><i class="fa-solid fa-anchor"></i> 绑定要输出图片信息的元素</h4>
      <pre>MG.infoBind(<em>ele</em>)</pre>
      <p>
        <code><em>ele</em></code>为DOM元素，如<code>document.getElementById("bgInfo")</code>等。被绑定的元素用于输出图片信息。
      </p>
    </div>

    <div class="card">
      <h4><i class="fa-solid fa-gears"></i> 设置背景的几种方式</h4>
      <p>绑定应用背景的元素、要输出图片信息的元素后，就可以设置背景了。</p>
      <h5>1 根据索引位置（数组下标）设置</h5>
      <pre>MG.setBg(<em>index</em>)</pre>
      <p>特别地，<code><em>index</em></code>为负时，索引会从末端倒数。</p>
      <h5>2 随机设置</h5>
      <pre>MG.setRandBg()</pre>
      <p>
        函数的唯一参数<code><em>alpha</em></code>默认为<code>1</code>，表示随机是均匀的。它应该是大于零的实数，推荐范围在<code>0.1 ~ 2</code>，值越小则越倾向于较小的索引（老图），反之则越倾向于较大的索引（新图）。
      </p>
      <h5>3 通过图片唯一标识符（图片ID）设置</h5>
      <pre>MG.setBgByPicId(<em>yyMMNN</em>)</pre>
      <p>
        参数<code><em>yyMMNN</em></code>是格式为<code>yyMMNN</code>的图片唯一标识符（图片ID），其中<code>yy</code>为两位数的年份，<code>MM</code>为两位数的月份，<code>NN</code>为月份内图片索引。例如，<code>211101</code>指2021年11月的第1张图片。
      </p>
      <h5>4 通过图片期数设置</h5>
      <pre>MG.setBgByIssue(<em>yyMM</em>)</pre>
      <p>参数<code><em>yyMM</em></code>是格式为<code>yyMM</code>的图片期数（即图片ID前四位，格式参见上一项），这样会随机设置此期内的一张图片作为背景。</p>
    </div>

    <div class="card">
      <h4><i class="fa-solid fa-circle-info"></i> 技术细节</h4>
      <pre
        id="MGTechDetails"><a onclick="this.parentElement.textContent=`\/\/ 压缩的gallery.json源文件索引0样例\n${JSON.stringify(Object.values(MG.pic[0]))}\n\/\/ load.js引入后MG.pic[0]样例\n${JSON.stringify(MG.pic[0])}`">点击加载样例</a></pre>
    </div>
  </div>

  <footer>
    <p class="font-sht">© 2019-2023 野生技协(TECHYES). All rights reserved.</p>
  </footer>
</body>

</html>